import{a as Q}from"./chunk-TJ3TUBB5.js";import{a as Z,b as tt,c as et,d as nt,e as ot,f as it,g as rt,h as at,i as ct,j as lt,k as st,l as D}from"./chunk-VRTOOWQR.js";import{a as K}from"./chunk-KPH2NHHK.js";import{a as X}from"./chunk-EQ5IH5XI.js";import{$ as d,Da as W,F as c,Fa as J,K as T,Q as Y,R as C,S as u,U as j,V as F,W as R,X as O,Y as a,Z as s,_ as P,aa as p,ba as $,ca as h,d as V,da as w,ea as M,fa as E,ga as l,ka as U,l as H,ma as r,na as x,o as B,oa as S,p as k,q as m,r as g,s as v,t as y,v as L,va as I,x as f}from"./chunk-JFEUYR63.js";import{a as q,b as G}from"./chunk-2NFLSA4Y.js";var z="common_configurations.api.otp",N=class n{constructor(e){this.frappeApi=e}getOtpSettings(){return this.callApiGet(`${z}.get_otp_settings`)}isOtpEnabled(){return this.callApiGet(`${z}.is_otp_enabled`).pipe(V(e=>e?.enabled??!1))}requestOtp(e,t="sms"){return this.callApiPost(`${z}.request_otp`,{document:e,channel:t,honeypot:""})}verifyOtp(e,t){return this.callApiPost(`${z}.verify_otp`,{document:e,otp_code:t,honeypot:""})}callApiGet(e,t){return this.frappeApi.callMethod(e,t,!0).pipe(V(o=>{if(!o.success&&o.message===void 0)throw new Error(o.error||"API call failed");return o.message}))}callApiPost(e,t){return this.frappeApi.callMethod(e,t,!1).pipe(V(o=>{if(!o.success&&o.message===void 0)throw new Error(o.error||"API call failed");return o.message}))}static \u0275fac=function(t){return new(t||n)(B(K))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function gt(n,e){if(n&1){let t=h();d(0,"button",13),E("click",function(){m(t);let i=l(2);return g(i.selectChannel("sms"))}),d(1,"span",14),r(2,"sms"),p(),d(3,"span",15),r(4,"SMS"),p(),d(5,"span",16),r(6,"Mensaje de texto"),p()()}if(n&2){let t=l(2);U("selected",t.selectedChannel()==="sms"),w("disabled",t.loading())}}function _t(n,e){if(n&1){let t=h();d(0,"button",17),E("click",function(){m(t);let i=l(2);return g(i.selectChannel("whatsapp"))}),d(1,"span",14),r(2,"chat"),p(),d(3,"span",15),r(4,"WhatsApp"),p(),d(5,"span",16),r(6,"Mensaje de WhatsApp"),p()()}if(n&2){let t=l(2);U("selected",t.selectedChannel()==="whatsapp"),w("disabled",t.loading())}}function Ct(n,e){if(n&1&&(d(0,"div",9)(1,"span",14),r(2,"error"),p(),r(3),p()),n&2){let t=l(2);c(3),S(" ",t.error()," ")}}function ut(n,e){n&1&&(d(0,"div",12),$(1,"div",18),d(2,"span"),r(3,"Enviando codigo..."),p()())}function ft(n,e){if(n&1){let t=h();d(0,"div",1)(1,"div",3)(2,"span",4),r(3,"security"),p(),d(4,"h3"),r(5,"Verificacion de identidad"),p(),d(6,"p",5),r(7," Para proteger tu cuenta, te enviaremos un codigo de verificacion. Selecciona como deseas recibirlo: "),p()(),d(8,"div",6),C(9,gt,7,3,"button",7),C(10,_t,7,3,"button",8),p(),C(11,Ct,4,1,"div",9),d(12,"div",10)(13,"button",11),E("click",function(){m(t);let i=l();return g(i.cancel())}),r(14," Cancelar "),p()(),C(15,ut,4,0,"div",12),p()}if(n&2){let t=l();c(9),u(t.smsAvailable?9:-1),c(),u(t.whatsappAvailable?10:-1),c(),u(t.error()?11:-1),c(2),w("disabled",t.loading()),c(2),u(t.loading()?15:-1)}}function ht(n,e){n&1&&r(0," via WhatsApp ")}function Mt(n,e){n&1&&r(0," via SMS ")}function Ot(n,e){if(n&1&&(d(0,"div",9)(1,"span",14),r(2,"error"),p(),r(3),p()),n&2){let t=l(2);c(3),S(" ",t.error()," ")}}function Pt(n,e){n&1&&$(0,"div",23)}function xt(n,e){n&1&&r(0," Verificar ")}function bt(n,e){if(n&1&&(d(0,"p",25),r(1),p()),n&2){let t=l(2);c(),S(" Puedes reenviar el codigo en ",t.resendCooldown()," segundos ")}}function vt(n,e){if(n&1){let t=h();d(0,"button",27),E("click",function(){m(t);let i=l(2);return g(i.resendOtp())}),d(1,"span",14),r(2,"refresh"),p(),r(3," Reenviar codigo "),p()}if(n&2){let t=l(2);w("disabled",t.loading())}}function yt(n,e){if(n&1){let t=h();d(0,"div",2)(1,"div",3)(2,"span",4),r(3,"dialpad"),p(),d(4,"h3"),r(5,"Ingresa el codigo"),p(),d(6,"p",5),r(7),d(8,"strong"),r(9),p(),C(10,ht,1,0)(11,Mt,1,0),p()(),d(12,"div",19)(13,"input",20),E("input",function(i){m(t);let _=l();return g(_.onOtpInput(i))}),p(),d(14,"p",21),r(15),p()(),C(16,Ot,4,1,"div",9),d(17,"div",10)(18,"button",11),E("click",function(){m(t);let i=l();return g(i.goBackToChannelSelect())}),d(19,"span",14),r(20,"arrow_back"),p(),r(21," Volver "),p(),d(22,"button",22),E("click",function(){m(t);let i=l();return g(i.verifyOtp())}),C(23,Pt,1,0,"div",23)(24,xt,1,0),p()(),d(25,"div",24),C(26,bt,2,1,"p",25)(27,vt,4,1,"button",26),p()()}if(n&2){let t=l();c(7),S(" Enviamos un codigo de ",(t.otpSettings==null?null:t.otpSettings.otp_length)||6," digitos a "),c(2),x(t.maskedPhone()),c(),u(t.selectedChannel()==="whatsapp"?10:11),c(3),w("value",t.otpCode())("disabled",t.loading()),Y("maxlength",(t.otpSettings==null?null:t.otpSettings.otp_length)||6),c(2),S(" El codigo expira en ",t.expiryMinutes()," minutos "),c(),u(t.error()?16:-1),c(2),w("disabled",t.loading()),c(4),w("disabled",t.loading()||!t.otpCode()),c(),u(t.loading()?23:24),c(3),u(t.resendCooldown()>0?26:27)}}var A=class n{otpService=k(N);document;otpSettings=null;phoneNumber;verified=new L;cancelled=new L;currentStep=f("channel-select");selectedChannel=f("sms");otpCode=f("");maskedPhone=f("");expiryMinutes=f(5);loading=f(!1);error=f(null);otpSent=f(!1);resendCooldown=f(0);cooldownInterval=null;ngOnInit(){if(this.otpSettings?.default_channel&&this.selectedChannel.set(this.otpSettings.default_channel),this.otpSettings){let e=this.otpSettings.sms_available??!1,t=this.otpSettings.whatsapp_available??!1;e&&!t?(this.selectedChannel.set("sms"),this.sendOtp()):!e&&t&&(this.selectedChannel.set("whatsapp"),this.sendOtp())}}get smsAvailable(){return this.otpSettings?.sms_available??!1}get whatsappAvailable(){return this.otpSettings?.whatsapp_available??!1}selectChannel(e){this.selectedChannel.set(e),this.sendOtp()}sendOtp(){this.loading.set(!0),this.error.set(null),this.otpService.requestOtp(this.document,this.selectedChannel()).subscribe({next:e=>{this.loading.set(!1),e.success?(this.otpSent.set(!0),this.currentStep.set("code-input"),this.maskedPhone.set(e.phone||"****"),this.expiryMinutes.set(e.expiry_minutes||5),this.startResendCooldown()):this.error.set(e.message||"Error al enviar el c\xF3digo")},error:e=>{console.error("Error requesting OTP:",e),this.loading.set(!1),this.error.set(e.message||"Error al enviar el c\xF3digo. Por favor intenta de nuevo.")}})}verifyOtp(){let e=this.otpCode().trim();if(!e){this.error.set("Por favor ingresa el c\xF3digo de verificaci\xF3n");return}this.loading.set(!0),this.error.set(null),this.otpService.verifyOtp(this.document,e).subscribe({next:t=>{this.loading.set(!1),t.success&&t.auth_token?this.verified.emit(t.auth_token):this.error.set("C\xF3digo inv\xE1lido. Por favor intenta de nuevo.")},error:t=>{console.error("Error verifying OTP:",t),this.loading.set(!1),this.error.set(t.message||"C\xF3digo inv\xE1lido. Por favor intenta de nuevo.")}})}resendOtp(){this.resendCooldown()>0||(this.otpCode.set(""),this.sendOtp())}startResendCooldown(){this.resendCooldown.set(60),this.cooldownInterval&&clearInterval(this.cooldownInterval),this.cooldownInterval=setInterval(()=>{let e=this.resendCooldown();e>0?this.resendCooldown.set(e-1):(clearInterval(this.cooldownInterval),this.cooldownInterval=null)},1e3)}goBackToChannelSelect(){this.currentStep.set("channel-select"),this.otpCode.set(""),this.error.set(null),this.otpSent.set(!1)}cancel(){this.cooldownInterval&&clearInterval(this.cooldownInterval),this.cancelled.emit()}onOtpInput(e){let t=e.target,o=t.value.replace(/[^0-9]/g,"");this.otpCode.set(o),t.value=o}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-otp-verification"]],inputs:{document:"document",otpSettings:"otpSettings",phoneNumber:"phoneNumber"},outputs:{verified:"verified",cancelled:"cancelled"},decls:3,vars:2,consts:[[1,"otp-verification"],[1,"otp-step","channel-select"],[1,"otp-step","code-input"],[1,"step-header"],[1,"material-icons","step-icon"],[1,"step-description"],[1,"channel-options"],["type","button",1,"channel-btn","sms",3,"selected","disabled"],["type","button",1,"channel-btn","whatsapp",3,"selected","disabled"],[1,"error-message"],[1,"step-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],[1,"loading-overlay"],["type","button",1,"channel-btn","sms",3,"click","disabled"],[1,"material-icons"],[1,"channel-label"],[1,"channel-desc"],["type","button",1,"channel-btn","whatsapp",3,"click","disabled"],[1,"spinner"],[1,"otp-input-container"],["type","text","placeholder","------","autocomplete","one-time-code","inputmode","numeric","pattern","[0-9]*",1,"otp-input",3,"input","value","disabled"],[1,"expiry-hint"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"btn-spinner"],[1,"resend-section"],[1,"resend-cooldown"],["type","button",1,"btn-link","resend-btn",3,"disabled"],["type","button",1,"btn-link","resend-btn",3,"click","disabled"]],template:function(t,o){t&1&&(d(0,"div",0),C(1,ft,16,5,"div",1),C(2,yt,28,12,"div",2),p()),t&2&&(c(),u(o.currentStep()==="channel-select"?1:-1),c(),u(o.currentStep()==="code-input"?2:-1))},dependencies:[I,D],styles:[".otp-verification[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}.otp-step[_ngcontent-%COMP%]{position:relative;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.step-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.step-header[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--primary-color, #1976d2);margin-bottom:.5rem}.step-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:#333}.step-header[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#666;line-height:1.4}.step-header[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.channel-options[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.channel-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:1.25rem 1rem;border:2px solid #e0e0e0;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease}.channel-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--primary-color, #1976d2);background:#1976d20a}.channel-btn.selected[_ngcontent-%COMP%]{border-color:var(--primary-color, #1976d2);background:#1976d214}.channel-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.channel-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;margin-bottom:.5rem}.channel-btn.sms[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#2196f3}.channel-btn.whatsapp[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#25d366}.channel-btn[_ngcontent-%COMP%]   .channel-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333}.channel-btn[_ngcontent-%COMP%]   .channel-desc[_ngcontent-%COMP%]{font-size:.75rem;color:#666;margin-top:.25rem}.otp-input-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.otp-input[_ngcontent-%COMP%]{width:100%;max-width:200px;padding:1rem;font-size:1.75rem;font-weight:600;text-align:center;letter-spacing:.5rem;border:2px solid #e0e0e0;border-radius:8px;outline:none;transition:border-color .2s ease}.otp-input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color, #1976d2)}.otp-input[_ngcontent-%COMP%]::placeholder{color:#ccc;letter-spacing:.25rem}.otp-input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.expiry-hint[_ngcontent-%COMP%]{margin:.75rem 0 0;font-size:.8rem;color:#888}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;margin-bottom:1rem;background:#ffebee;border-radius:8px;color:#c62828;font-size:.875rem}.error-message[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.step-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;font-size:.9rem;font-weight:500;border-radius:8px;border:none;cursor:pointer;transition:all .2s ease;min-width:120px}.btn-primary[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #1976d2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #1565c0)}.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e0e0}.btn-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.5rem;background:none;border:none;color:var(--primary-color, #1976d2);font-size:.875rem;cursor:pointer;transition:color .2s ease}.btn-link[_ngcontent-%COMP%]:hover:not(:disabled){color:var(--primary-color-dark, #1565c0)}.btn-link[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.resend-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #eee;text-align:center}.resend-cooldown[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#888}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;background:#ffffffe6;border-radius:12px;z-index:10}.loading-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.spinner[_ngcontent-%COMP%], .btn-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #e0e0e0;border-top-color:var(--primary-color, #1976d2);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:4px}.btn-spinner[_ngcontent-%COMP%]{width:18px;height:18px;border-width:2px;border-color:#ffffff4d;border-top-color:#fff}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:480px){.otp-step[_ngcontent-%COMP%]{padding:1rem}.channel-options[_ngcontent-%COMP%]{flex-direction:column}.channel-btn[_ngcontent-%COMP%]{padding:1rem}.step-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})};var St=(n,e)=>e.fieldname;function wt(n,e){n&1&&(a(0,"div",8),P(1,"div",13),a(2,"p"),r(3,"Cargando formulario..."),s()())}function Et(n,e){if(n&1){let t=h();a(0,"div",9),v(),a(1,"svg",6),P(2,"path",14),s(),y(),a(3,"p"),r(4),s(),a(5,"button",15),M("click",function(){m(t);let i=l();return g(i.loadFields())}),r(6,"Reintentar"),s()()}if(n&2){let t=l();c(4),x(t.error())}}function kt(n,e){if(n&1){let t=h();a(0,"div",10)(1,"p",16),r(2,"\xBFYa te has registrado anteriormente?"),s(),a(3,"div",17)(4,"button",18),M("click",function(){m(t);let i=l();return g(i.goToLogin())}),a(5,"div",19),v(),a(6,"svg",6),P(7,"path",20),s()(),y(),a(8,"span",21),r(9,"Estoy registrado"),s(),a(10,"span",22),r(11,"Ya tengo mis datos en el sistema"),s()(),a(12,"button",23),M("click",function(){m(t);let i=l();return g(i.goToRegister())}),a(13,"div",19),v(),a(14,"svg",6),P(15,"path",24),s()(),y(),a(16,"span",21),r(17,"Registrarme"),s(),a(18,"span",22),r(19,"Es mi primera vez"),s()()()()}}function Vt(n,e){if(n&1&&(a(0,"div",28),v(),a(1,"svg",6),P(2,"path",14),s(),y(),a(3,"span"),r(4),s()()),n&2){let t=l(2);c(4),x(t.error())}}function Tt(n,e){if(n&1&&(a(0,"option",38),r(1),s()),n&2){let t=e.$implicit;O("value",t),c(),x(t)}}function Ft(n,e){if(n&1){let t=h();a(0,"div",29)(1,"label",35),r(2),a(3,"span",31),r(4,"*"),s()(),a(5,"select",36),M("ngModelChange",function(i){let _=m(t),b=l(2);return g(b.setFieldValue(_.fieldname,i))}),a(6,"option",37),r(7,"Seleccionar..."),s(),F(8,Tt,2,2,"option",38,j),s()()}if(n&2){let t=e,o=l(2);c(),O("for",t.fieldname),c(),S(" ",t.label," "),c(3),O("id",t.fieldname)("name",t.fieldname)("ngModel",o.getFieldValue(t.fieldname))("disabled",o.loading()),c(3),R(o.getDocumentTypeOptions())}}function Rt(n,e){n&1&&(P(0,"span",13),r(1," Conectando... "))}function It(n,e){n&1&&r(0," Conectar ")}function Dt(n,e){if(n&1){let t=h();a(0,"form",25,0),M("ngSubmit",function(){m(t);let i=l();return g(i.onConnect())}),a(2,"button",26),M("click",function(){m(t);let i=l();return g(i.goToInitial())}),v(),a(3,"svg",6),P(4,"path",27),s(),r(5," Volver "),s(),y(),a(6,"p",16),r(7,"Ingresa tu n\xFAmero de documento para conectarte"),s(),C(8,Vt,5,1,"div",28),C(9,Ft,10,6,"div",29),a(10,"div",29)(11,"label",30),r(12," N\xFAmero de documento "),a(13,"span",31),r(14,"*"),s()(),a(15,"input",32),M("ngModelChange",function(i){m(t);let _=l();return g(_.setFieldValue("document",i))}),s()(),a(16,"div",33)(17,"button",34),C(18,Rt,2,0)(19,It,1,0),s()()()}if(n&2){let t,o=l();c(8),u(o.error()?8:-1),c(),u((t=o.getDocumentTypeField())?9:-1,t),c(6),O("ngModel",o.getFieldValue("document"))("disabled",o.loading()),c(2),O("disabled",o.loading()),c(),u(o.loading()?18:19)}}function zt(n,e){if(n&1&&(a(0,"div",28),v(),a(1,"svg",6),P(2,"path",14),s(),y(),a(3,"span"),r(4),s()()),n&2){let t=l(2);c(4),x(t.error())}}function Nt(n,e){n&1&&(a(0,"span",31),r(1,"*"),s())}function At(n,e){if(n&1){let t=h();a(0,"input",46),M("ngModelChange",function(i){m(t);let _=l().$implicit,b=l(2);return g(b.setFieldValue(_.fieldname,i))}),s()}if(n&2){let t=l().$implicit,o=l(2);O("type",o.getInputType(t))("id",t.fieldname)("name",t.fieldname)("ngModel",o.getFieldValue(t.fieldname))("placeholder",t.description||t.label)("disabled",o.loading())("required",t.reqd===1)}}function qt(n,e){if(n&1&&(a(0,"option",38),r(1),s()),n&2){let t=e.$implicit;O("value",t),c(),x(t)}}function Lt(n,e){if(n&1){let t=h();a(0,"select",47),M("ngModelChange",function(i){m(t);let _=l().$implicit,b=l(2);return g(b.setFieldValue(_.fieldname,i))}),a(1,"option",37),r(2,"Seleccionar..."),s(),F(3,qt,2,2,"option",38,j),s()}if(n&2){let t=l().$implicit,o=l(2);O("id",t.fieldname)("name",t.fieldname)("ngModel",o.getFieldValue(t.fieldname))("disabled",o.loading())("required",t.reqd===1),c(3),R(o.getSelectOptions(t))}}function jt(n,e){if(n&1){let t=h();a(0,"div",43)(1,"input",48),M("ngModelChange",function(i){m(t);let _=l().$implicit,b=l(2);return g(b.setFieldValue(_.fieldname,i?1:0))}),s(),a(2,"span"),r(3),s()()}if(n&2){let t=l().$implicit,o=l(2);c(),O("id",t.fieldname)("name",t.fieldname)("ngModel",o.getFieldValue(t.fieldname))("disabled",o.loading()),c(2),x(t.description||t.label)}}function $t(n,e){if(n&1){let t=h();a(0,"textarea",49),M("ngModelChange",function(i){m(t);let _=l().$implicit,b=l(2);return g(b.setFieldValue(_.fieldname,i))}),s()}if(n&2){let t=l().$implicit,o=l(2);O("id",t.fieldname)("name",t.fieldname)("ngModel",o.getFieldValue(t.fieldname))("placeholder",t.description||t.label)("disabled",o.loading())("required",t.reqd===1)("rows",t.fieldtype==="Long Text"?6:3)}}function Ut(n,e){if(n&1&&(a(0,"small",45),r(1),s()),n&2){let t=l().$implicit;c(),x(t.description)}}function Gt(n,e){if(n&1&&(a(0,"div",29)(1,"label",35),r(2),C(3,Nt,2,0,"span",31),s(),C(4,At,1,7,"input",41)(5,Lt,5,5,"select",42)(6,jt,4,5,"div",43)(7,$t,1,7,"textarea",44),C(8,Ut,2,1,"small",45),s()),n&2){let t=e.$implicit;c(),O("for",t.fieldname),c(),S(" ",t.label," "),c(),u(t.reqd?3:-1),c(),u(t.fieldtype!=="Select"&&t.fieldtype!=="Check"&&t.fieldtype!=="Text"&&t.fieldtype!=="Small Text"&&t.fieldtype!=="Long Text"?4:t.fieldtype==="Select"?5:t.fieldtype==="Check"?6:7),c(4),u(t.description&&t.fieldtype!=="Check"?8:-1)}}function Ht(n,e){n&1&&(P(0,"span",13),r(1," Registrando... "))}function Bt(n,e){n&1&&r(0," Continuar ")}function Yt(n,e){if(n&1){let t=h();a(0,"form",25,1),M("ngSubmit",function(){m(t);let i=l();return g(i.onSubmit())}),a(2,"button",26),M("click",function(){m(t);let i=l();return g(i.goToInitial())}),v(),a(3,"svg",6),P(4,"path",27),s(),r(5," Volver "),s(),C(6,zt,5,1,"div",28),F(7,Gt,9,5,"div",29,St),y(),a(9,"div",33)(10,"button",39),M("click",function(){m(t);let i=l();return g(i.goToInitial())}),r(11," Cancelar "),s(),a(12,"button",40),C(13,Ht,2,0)(14,Bt,1,0),s()()()}if(n&2){let t=l();c(6),u(t.error()?6:-1),c(),R(t.fields()),c(3),O("disabled",t.loading()),c(2),O("disabled",t.loading()||t.loadingFields()),c(),u(t.loading()?13:14)}}function Wt(n,e){if(n&1){let t=h();a(0,"div",12)(1,"app-otp-verification",50),M("verified",function(i){m(t);let _=l();return g(_.onOtpVerified(i))})("cancelled",function(){m(t);let i=l();return g(i.onOtpCancelled())}),s()()}if(n&2){let t=l();c(),O("document",t.otpDocument())("otpSettings",t.otpSettings())}}var pt=class n{route=k(W);router=k(J);portalService=k(Q);stateService=k(X);currentStep=f("initial");fields=f([]);formData=f({});loadingFields=f(!0);loading=f(!1);error=f(null);otpSettings=f(null);otpDocument=f("");existingContact=null;pendingOtpContact=null;currentUser=this.stateService.currentUser;selectedPortal=this.stateService.selectedPortal;ngOnInit(){if(this.stateService.userContact()){let e=this.route.snapshot.paramMap.get("portalName");e&&this.router.navigate(["/portal",e]);return}this.loadFields()}loadFields(){this.loadingFields.set(!0),this.error.set(null),this.portalService.getUserContactFields().subscribe({next:e=>{this.fields.set(e);let t={};e.forEach(o=>{o.default&&(t[o.fieldname]=o.default)}),this.formData.set(t),this.loadingFields.set(!1)},error:e=>{console.error("Error loading fields:",e),this.error.set("Error al cargar el formulario. Por favor intenta de nuevo."),this.loadingFields.set(!1)}})}getFieldValue(e){return this.formData()[e]||""}setFieldValue(e,t){let o=this.formData();this.formData.set(G(q({},o),{[e]:t}))}getSelectOptions(e){return e.options?e.options.split(`
`).map(t=>t.trim()).filter(t=>t):[]}getInputType(e){switch(e.fieldtype){case"Int":case"Float":case"Currency":return"number";case"Email":case"Phone":return e.fieldtype.toLowerCase();case"Date":return"date";case"Datetime":return"datetime-local";case"Time":return"time";case"Check":return"checkbox";default:return"text"}}validateForm(){let e=this.formData(),t=this.fields();for(let i of t)if(i.reqd){let _=e[i.fieldname];if(_==null||_==="")return`El campo "${i.label}" es obligatorio`}let o=t.find(i=>i.fieldtype==="Email"||i.options==="Email");return o&&e[o.fieldname]&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e[o.fieldname])?`Por favor ingresa un email v\xE1lido en "${o.label}"`:null}goToLogin(){this.currentStep.set("login"),this.error.set(null),this.existingContact=null,this.formData.set({document_type:"Cedula de ciudadania"})}goToRegister(){this.currentStep.set("register"),this.error.set(null),this.existingContact=null;let e={};this.fields().forEach(t=>{t.default&&(e[t.fieldname]=t.default)}),this.formData.set(e)}goToInitial(){this.currentStep.set("initial"),this.error.set(null),this.existingContact=null,this.formData.set({})}validateLoginForm(){let e=this.formData();return!e.document_type||e.document_type.toString().trim()===""?"Por favor selecciona el tipo de documento":!e.document||e.document.toString().trim()===""?"Por favor ingresa el n\xFAmero de documento":null}onConnect(){this.error.set(null);let e=this.validateLoginForm();if(e){this.error.set(e);return}let t=this.selectedPortal();if(!t){this.error.set("Error de sesion. Por favor recarga la pagina.");return}this.loading.set(!0);let o=this.formData().document?.toString().trim();this.portalService.getUserContactByDocument(o).subscribe({next:i=>{this.loading.set(!1),i?i.requires_otp&&i.otp_settings?(this.pendingOtpContact=i,this.otpSettings.set(i.otp_settings),this.otpDocument.set(o),this.currentStep.set("otp")):i.auth_token?(this.stateService.setUserContact(i,i.auth_token),this.router.navigate(["/portal",t.portal_name])):this.error.set("Error de autenticacion. Por favor intenta de nuevo."):this.error.set("No se encontro un usuario registrado con ese numero de documento. Por favor verifica los datos o registrate como nuevo usuario.")},error:i=>{console.error("Error connecting:",i),this.error.set(i.message||"Error al buscar el usuario. Por favor intenta de nuevo."),this.loading.set(!1)}})}getDocumentTypeOptions(){let e=this.fields().find(t=>t.fieldname==="document_type");return e&&e.options?e.options.split(`
`).map(t=>t.trim()).filter(t=>t):[]}getDocumentTypeField(){return this.fields().find(e=>e.fieldname==="document_type")}onSubmit(){this.error.set(null);let e=this.validateForm();if(e){this.error.set(e);return}let t=this.selectedPortal();if(!t){this.error.set("Error de sesi\xF3n. Por favor recarga la p\xE1gina.");return}this.loading.set(!0);let o=q({},this.formData());this.existingContact&&this.existingContact.name?this.portalService.updateUserContact(this.existingContact.name,o).subscribe({next:i=>{this.stateService.setUserContact(i,this.existingContact?.auth_token),this.loading.set(!1),this.router.navigate(["/portal",t.portal_name])},error:i=>{console.error("Error updating contact:",i),this.error.set(i.message||"Error al actualizar la informaci\xF3n. Por favor intenta de nuevo."),this.loading.set(!1)}}):this.portalService.createUserContact(o).subscribe({next:i=>{this.loading.set(!1),i.requires_otp&&i.otp_settings?(this.pendingOtpContact=i,this.otpSettings.set(i.otp_settings),this.otpDocument.set(o.document||""),this.currentStep.set("otp")):i.auth_token?(this.stateService.setUserContact(i,i.auth_token),this.router.navigate(["/portal",t.portal_name])):this.error.set("Error de autenticacion. Por favor intenta de nuevo.")},error:i=>{console.error("Error creating contact:",i),this.error.set(i.message||"Error al registrar la informacion. Por favor intenta de nuevo."),this.loading.set(!1)}})}skip(){}cancel(){this.router.navigate(["/portals"])}onOtpVerified(e){let t=this.selectedPortal();if(!t){this.error.set("Error de sesion. Por favor recarga la pagina."),this.currentStep.set("initial");return}this.portalService.setAuthToken(e),this.pendingOtpContact&&this.stateService.setUserContact(this.pendingOtpContact,e),this.router.navigate(["/portal",t.portal_name])}onOtpCancelled(){this.pendingOtpContact=null,this.otpSettings.set(null),this.otpDocument.set(""),this.currentStep.set("initial"),this.error.set(null)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-contact-registration"]],decls:16,vars:3,consts:[["loginForm","ngForm"],["regForm","ngForm"],[1,"registration-container"],[1,"registration-card"],[1,"registration-header"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"loading-state"],[1,"error-state"],[1,"step-initial"],[1,"registration-form"],[1,"step-otp"],[1,"spinner"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"btn-primary",3,"click"],[1,"step-description"],[1,"choice-buttons"],[1,"btn-choice","btn-login",3,"click"],[1,"choice-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"choice-title"],[1,"choice-subtitle"],[1,"btn-choice","btn-register",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"registration-form",3,"ngSubmit"],["type","button",1,"btn-back",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"alert","alert-error"],[1,"form-group"],["for","document"],[1,"required"],["type","text","id","document","name","document","placeholder","Ingresa tu n\xFAmero de documento","required","",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","submit",1,"btn-primary","btn-full",3,"disabled"],[3,"for"],["required","",3,"ngModelChange","id","name","ngModel","disabled"],["value",""],[3,"value"],["type","button",1,"btn-secondary",3,"click","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[3,"type","id","name","ngModel","placeholder","disabled","required"],[3,"id","name","ngModel","disabled","required"],[1,"checkbox-wrapper"],[3,"id","name","ngModel","placeholder","disabled","required","rows"],[1,"field-description"],[3,"ngModelChange","type","id","name","ngModel","placeholder","disabled","required"],[3,"ngModelChange","id","name","ngModel","disabled","required"],["type","checkbox",3,"ngModelChange","id","name","ngModel","disabled"],[3,"ngModelChange","id","name","ngModel","placeholder","disabled","required","rows"],[3,"verified","cancelled","document","otpSettings"]],template:function(t,o){if(t&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),v(),a(4,"svg",6),P(5,"path",7),s()(),y(),a(6,"h1"),r(7),s(),a(8,"p"),r(9),s()(),C(10,wt,4,0,"div",8)(11,Et,7,1,"div",9)(12,kt,20,0,"div",10)(13,Dt,20,6,"form",11)(14,Yt,15,4,"form",11)(15,Wt,2,2,"div",12),s()()),t&2){let i,_;c(7),x(((i=o.selectedPortal())==null?null:i.registration_title)||"Registro de Contacto"),c(2),x(((_=o.selectedPortal())==null?null:_.registration_description)||"Por favor ingresa los datos de la persona para quien se agendar\xE1 el servicio"),c(),u(o.loadingFields()?10:o.error()&&o.fields().length===0?11:o.currentStep()==="initial"?12:o.currentStep()==="login"?13:o.currentStep()==="register"?14:o.currentStep()==="otp"?15:-1)}},dependencies:[I,D,rt,ct,lt,tt,Z,at,et,nt,st,it,ot,A],styles:[`.registration-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem}.registration-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;padding:2.5rem;animation:_ngcontent-%COMP%_slideIn .4s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.registration-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.registration-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:1rem;display:flex;align-items:center;justify-content:center}.registration-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff}.registration-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.registration-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.95rem;margin:0}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto 1.5rem;border:4px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem}.error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.error-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#e53e3e;margin:0 auto 1rem;display:block}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem;margin-bottom:1.5rem}.error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:1rem;font-weight:600;cursor:pointer}.step-initial[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{text-align:center;color:#4a5568;font-size:1.1rem;margin-bottom:1.5rem}.step-initial[_ngcontent-%COMP%]   .choice-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.5rem;border:2px solid #e2e8f0;border-radius:.75rem;background:#fff;cursor:pointer;transition:all .2s}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 10px 20px #667eea26}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{width:56px;height:56px;margin-bottom:1rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;color:#fff}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2d3748;margin-bottom:.25rem}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#718096}.step-initial[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]{width:100%}.btn-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:none;border:none;color:#667eea;font-size:.95rem;font-weight:500;cursor:pointer;padding:.5rem 0;margin-bottom:1rem;transition:color .2s}.btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.btn-back[_ngcontent-%COMP%]:hover{color:#764ba2}.step-description[_ngcontent-%COMP%]{color:#4a5568;font-size:1rem;margin-bottom:1.5rem;text-align:center}.registration-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem;display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem}.registration-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.registration-form[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{background:#fff5f5;color:#c53030;border:1px solid #feb2b2}.registration-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:#ebf8ff;color:#2c5282;border:1px solid #90cdf4}.registration-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#3182ce}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2d3748;margin-bottom:.5rem;font-size:.9rem}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e2e8f0;border-radius:.5rem;font-size:1rem;transition:all .2s;box-sizing:border-box;font-family:inherit}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=time][readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[readonly][_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{background:#f7fafc;cursor:not-allowed;opacity:.6}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#cbd5e0}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23667eea' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1.25rem;padding-right:2.5rem}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);display:flex;align-items:center}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]   .mini-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 0}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;cursor:pointer}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4a5568;font-size:.95rem}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{display:block;margin-top:.5rem;color:#718096;font-size:.875rem;line-height:1.4}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#e53e3e;margin-left:.25rem}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.875rem;border:none;border-radius:.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.5rem}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#edf2f7;color:#2d3748}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 20px #667eea4d}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:480px){.registration-container[_ngcontent-%COMP%]{padding:1rem}.registration-card[_ngcontent-%COMP%]{padding:1.5rem}.registration-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]{padding:1.25rem}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{width:48px;height:48px}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.step-initial[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .choice-title[_ngcontent-%COMP%]{font-size:1rem}.registration-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column}}.step-otp[_ngcontent-%COMP%]{padding:.5rem 0;--primary-color: #667eea;--primary-color-dark: #5a67d8}`]})};export{pt as ContactRegistrationComponent};
