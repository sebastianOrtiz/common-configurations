import{a as S}from"./chunk-UMSC5DQP.js";import{a as R}from"./chunk-4AJHVXRO.js";import"./chunk-4CW5QDCK.js";import{Aa as v,Ba as d,Ea as C,Fa as A,Ga as g,K as f,Z as u,d as c,h as m,m as s,p,q as r,wa as h,x as l}from"./chunk-TWCYCQE2.js";import"./chunk-2NFLSA4Y.js";var n=class t{constructor(e,o){this.authService=e;this.router=o}canActivate(){return this.authService.checkAuthStatus().pipe(m(1),c(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(o){return new(o||t)(p(S),p(A))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})},a=()=>r(n).canActivate();var b=[{path:"",redirectTo:"/portals",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-4C5GJQEM.js").then(t=>t.LoginComponent)},{path:"portals",canActivate:[a],loadComponent:()=>import("./chunk-KZ4IWCKM.js").then(t=>t.PortalSelectorComponent)},{path:"portal/:portalName",canActivate:[a],loadComponent:()=>import("./chunk-FMU3RP6I.js").then(t=>t.PortalLayoutComponent),children:[{path:"",loadComponent:()=>import("./chunk-RL7EHTNB.js").then(t=>t.PortalViewComponent)},{path:"register",loadComponent:()=>import("./chunk-F4FCEWYL.js").then(t=>t.ContactRegistrationComponent)},{path:"tool/:toolType",loadChildren:()=>import("./chunk-AO5CRFKP.js").then(t=>t.toolRoutes)}]},{path:"**",redirectTo:"/portals"}];var I={providers:[l(),g(b),v(d())]};var i=class t{frappeApi=r(R);ngOnInit(){this.frappeApi.fetchCsrfToken().subscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=f({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,j){o&1&&u(0,"router-outlet")},dependencies:[C],encapsulation:2})};h(i,I).catch(t=>console.error(t));
