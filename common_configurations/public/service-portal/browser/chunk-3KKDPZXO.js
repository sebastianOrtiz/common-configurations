import{a as V}from"./chunk-7L6YMNRL.js";import{a as E,b as L,c as z,d as T,e as N,f as j,g as F,k as D,l as I}from"./chunk-7CQAFQN7.js";import"./chunk-LXGGI7CL.js";import{Aa as k,F as p,Ja as S,L as l,O,P as v,X as P,Y as h,aa as _,ba as e,ca as t,da as s,ha as b,ja as u,la as w,ma as x,qa as i,ra as y,w as d,x as m,y as c,z as C}from"./chunk-T6CG4JNB.js";import"./chunk-2NFLSA4Y.js";function A(o,a){if(o&1){let r=b();e(0,"div",8),c(),e(1,"svg",11),s(2,"path",26),t(),C(),e(3,"span"),i(4),t(),e(5,"button",27),u("click",function(){d(r);let g=w();return m(g.clearError())}),c(),e(6,"svg",11),s(7,"path",28),t()()()}if(o&2){let r=w();l(4),y(r.error())}}function H(o,a){o&1&&(c(),e(0,"svg",11),s(1,"path",29),t())}function Y(o,a){o&1&&(c(),e(0,"svg",11),s(1,"path",30)(2,"path",31),t())}function R(o,a){o&1&&(s(0,"span",32),i(1," Iniciando sesi\xF3n... "))}function q(o,a){o&1&&i(0," Iniciar Sesi\xF3n ")}var G=class o{constructor(a,r){this.authService=a;this.router=r}username=p("");password=p("");rememberMe=p(!1);loading=p(!1);error=p(null);showPassword=p(!1);onSubmit(){this.error.set(null);let a=this.username().trim(),r=this.password();if(!a||!r){this.error.set("Por favor ingresa usuario y contrase\xF1a");return}this.loading.set(!0),this.authService.login({usr:a,pwd:r}).subscribe({next:n=>{n.success?this.router.navigate(["/portals"]):(this.error.set(n.error||"Error al iniciar sesi\xF3n. Verifica tus credenciales."),this.loading.set(!1))},error:n=>{console.error("Login error:",n),this.error.set("Error de conexi\xF3n. Por favor intenta de nuevo."),this.loading.set(!1)}})}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}clearError(){this.error.set(null)}static \u0275fac=function(r){return new(r||o)(O(V),O(S))};static \u0275cmp=v({type:o,selectors:[["app-login"]],decls:41,vars:12,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"],[1,"login-form",3,"ngSubmit"],[1,"alert","alert-error"],[1,"form-group"],["for","username"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","id","username","name","username","placeholder","usuario@example.com","autocomplete","username","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"password-input"],["id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password","required","",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click","disabled"],[1,"form-checkbox"],["type","checkbox","id","rememberMe","name","rememberMe",3,"ngModelChange","ngModel","disabled"],["for","rememberMe"],["type","submit",1,"btn-login",3,"disabled"],[1,"login-footer"],[1,"help-text"],["href","mailto:soporte@example.com"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["type","button",1,"close-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"spinner"]],template:function(r,n){if(r&1){let g=b();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),c(),e(4,"svg",5),s(5,"path",6),t()(),C(),e(6,"h1"),i(7,"Portal de Servicios"),t(),e(8,"p"),i(9,"Ingresa tus credenciales para continuar"),t()(),e(10,"form",7,0),u("ngSubmit",function(){return d(g),m(n.onSubmit())}),P(12,A,8,1,"div",8),e(13,"div",9)(14,"label",10),c(),e(15,"svg",11),s(16,"path",12),t(),i(17," Usuario o Email "),t(),C(),e(18,"input",13),u("ngModelChange",function(M){return d(g),m(n.username.set(M))}),t()(),e(19,"div",9)(20,"label",14),c(),e(21,"svg",11),s(22,"path",15),t(),i(23," Contrase\xF1a "),t(),C(),e(24,"div",16)(25,"input",17),u("ngModelChange",function(M){return d(g),m(n.password.set(M))}),t(),e(26,"button",18),u("click",function(){return d(g),m(n.togglePasswordVisibility())}),P(27,H,2,0,":svg:svg",11)(28,Y,3,0,":svg:svg",11),t()()(),e(29,"div",19)(30,"input",20),u("ngModelChange",function(M){return d(g),m(n.rememberMe.set(M))}),t(),e(31,"label",21),i(32,"Recordar sesi\xF3n"),t()(),e(33,"button",22),P(34,R,2,0)(35,q,1,0),t()(),e(36,"div",23)(37,"p",24),i(38," \xBFProblemas para iniciar sesi\xF3n? "),e(39,"a",25),i(40,"Contacta soporte"),t()()()()()}if(r&2){let g=x(11);l(12),h(n.error()?12:-1),l(6),_("ngModel",n.username())("disabled",n.loading()),l(7),_("type",n.showPassword()?"text":"password")("ngModel",n.password())("disabled",n.loading()),l(),_("disabled",n.loading()),l(),h(n.showPassword()?27:28),l(3),_("ngModel",n.rememberMe())("disabled",n.loading()),l(3),_("disabled",n.loading()||!g.form.valid),l(),h(n.loading()?34:35)}},dependencies:[k,I,F,L,E,z,T,D,j,N],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 20px 60px #0000004d;max-width:420px;width:100%;padding:2.5rem;animation:_ngcontent-%COMP%_slideIn .4s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:1rem;display:flex;align-items:center;justify-content:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:.95rem;margin:0}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem;display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem;position:relative}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:.25rem;opacity:.6;transition:opacity .2s}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.login-form[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{background:#fff5f5;color:#c53030;border:1px solid #feb2b2}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#2d3748;margin-bottom:.5rem;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;opacity:.7}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e2e8f0;border-radius:.5rem;font-size:1rem;transition:all .2s;box-sizing:border-box}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:disabled, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:disabled{background:#f7fafc;cursor:not-allowed;opacity:.6}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder{color:#cbd5e0}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:3rem}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;padding:.5rem;cursor:pointer;color:#718096;transition:color .2s}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover:not(:disabled){color:#2d3748}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;display:block}.login-form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.login-form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;color:#4a5568;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;padding:.875rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.5rem}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 20px #667eea4d}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e2e8f0;text-align:center}.login-footer[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{color:#718096;font-size:.875rem;margin:0}.login-footer[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.login-footer[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:480px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{G as LoginComponent};
