import{a as c}from"./chunk-753TLAVK.js";import{d as a,k as i,n as l}from"./chunk-5KXQTZGH.js";var s="common_configurations.api",n=class o{constructor(t){this.frappeApi=t}getPortal(t){return this.callPortalMethodGet("get_portal",{portal_name:t})}getActivePortals(){return this.callPortalMethodGet("get_portals")}createUserContact(t){return this.callPortalMethod("create_user_contact",{data:JSON.stringify(t),honeypot:""})}updateUserContact(t,r){return this.callPortalMethod("update_user_contact",{name:t,data:JSON.stringify(r),honeypot:""})}getUserContactByDocument(t){return this.callPortalMethodGet("get_user_contact_by_document",{document:t,honeypot:""})}getToolTypes(){return this.frappeApi.getList("Tool Type",[["is_active","=",1]],["*"],0,100).pipe(a(t=>{if(!t.success||!t.data)throw new Error(t.error||"Failed to load tool types");return t.data}))}callPortalMethodGet(t,r){return this.frappeApi.callMethod(`${s}.portal_api.${t}`,r,!0).pipe(a(e=>{if(!e.success&&e.message===void 0)throw new Error(e.error||"API call failed");return e.message}))}callPortalMethod(t,r){return this.frappeApi.callMethod(`${s}.portal_api.${t}`,r,!1).pipe(a(e=>{if(!e.success&&e.message===void 0)throw new Error(e.error||"API call failed");return e.message}))}getUserContactFields(){return this.callPortalMethodGet("get_user_contact_fields")}static \u0275fac=function(r){return new(r||o)(l(c))};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})};export{n as a};
